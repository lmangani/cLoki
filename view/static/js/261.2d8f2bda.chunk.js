(self.webpackChunkqryn_view=self.webpackChunkqryn_view||[]).push([[261],{31238:function(n,e,r){"use strict";r.d(e,{F:function(){return u}});var t=r(47313),o=r(56352),i=r(60065),u=function(){var n=(0,o.v9)((function(n){return n.theme}));return(0,t.useMemo)((function(){return i.n[n]}),[n])}},82261:function(n,e,r){"use strict";r.r(e),r.d(e,{getUsersFromLocal:function(){return k},setLocalUsers:function(){return j}});var t,o,i=r(93433),u=r(1413),c=r(29439),s=r(30168),a=r(47313),l=r(62975),d=r(31238),f=r(82751),p=r(29826),v=r(17498),x=r(46271),m=r(70024),g=r(56352),h=r(42520),Z=r(16806),b=r.n(Z),y=r(46417),C="superAdmin",w="store_user",k=function(){var n=[];try{var e=localStorage.getItem(w);if(e&&"string"===typeof e){var r=JSON.parse(e);if(r&&(null===r||void 0===r?void 0:r.length)>0)return n=r}return n}catch(t){return console.log("Error on retrieving users from localstorage: ",t),n}},j=function(n){try{localStorage.setItem(w,JSON.stringify(n))}catch(e){console.log("Error storing users data",e)}},S=function(n){return(0,l.iv)(t||(t=(0,s.Z)(["\n    background: ",";\n    padding: 10px;\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    .cont {\n        display: flex;\n        width: 100%;\n        border-radius: 3px;\n        max-width: 1280px;\n        background: ",";\n        border: 1px solid ",";\n        flex: 1;\n        flex-direction: column;\n    }\n    .user-row {\n        display: flex;\n        align-items: center;\n        margin: 5px;\n        justify-content: space-between;\n        border: 1px solid ",";\n        padding: 10px;\n        border-radius: 3px;\n        height: 30px;\n\n        p {\n            color: ",";\n            font-size: 10px;\n            letter-spacing: 1px;\n            text-transform: uppercase;\n            display: flex;\n            align-items: center;\n        }\n        .avatar {\n            color: ",";\n            font-size: 10px;\n            letter-spacing: 1px;\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            text-transform: uppercase;\n        }\n\n        select {\n            margin-left: 4px;\n            font-size: 12px;\n            color: ",";\n            padding: 4px;\n            border-radius: 3px;\n            background: ",";\n        }\n\n        .user-role {\n            display: flex;\n            align-items: center;\n            font-size: 10px;\n            text-transform: uppercase;\n            color: ",";\n            p {\n                margin-left: 4px;\n            }\n        }\n\n        .name-input {\n            display: flex;\n            align-items: center;\n            padding: 4px;\n            border: 1px solid ",";\n            border-radius: 3px;\n            background: ",";\n            color: ",";\n            height: 28px;\n            font-size: 12px;\n        }\n\n        .action-buttons {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            width: 80px;\n            button {\n                display: flex;\n                align-items: center;\n                flex: 1;\n                background: ",";\n                border: 1px solid ",";\n                border-radius: 3px;\n                cursor: pointer;\n                color: ",";\n                max-width: 25px;\n                &:hover {\n                    background: ",";\n                }\n                .cookie-icon {\n                    font-size: 15px;\n                    color: ",";\n                }\n            }\n        }\n    }\n"])),n.viewBg,n.widgetContainer,n.buttonBorder,n.buttonBorder,n.textColor,n.textColor,n.textColor,n.inputBg,n.textColor,n.buttonBorder,n.inputBg,n.textColor,n.widgetContainer,n.buttonBorder,n.textColor,n.mainBgColor,n.textColor)},U=function(n,e){return(0,l.iv)(o||(o=(0,s.Z)(["\n    padding: 4px;\n    border-radius: 3px;\n    font-size: 10px;\n    text-transform: uppercase;\n    color: "," !important;\n    color: ",";\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    border: 1px solid transparent;\n    &:hover {\n        border: 1px solid ",';\n    }\n    &:after {\n        content: "";\n        margin-left: 4px;\n        display: flex;\n        width: 10px;\n        height: 10px;\n        border-radius: 3px;\n        background: ',";\n        border: 1px solid ",";\n    }\n"])),e?n.primaryDark:n.textColor,n.inputBg,n.buttonBorder,e?n.primaryDark:n.widgetContainer,n.primaryDark)},E=function(n){var e=n.user,r=n.onUserAdd,t=n.onUserChange,o=n.onUserRemove,i=n.onUserCookie,s=n.onUserSelect,f=e.name,x=e.role,g=e.active,h=e.id,Z=x===C,w=(0,d.F)(),k=(0,a.useState)(!1),j=(0,c.Z)(k,2),S=j[0],E=j[1];return(0,y.jsxs)("div",{className:"user-row",children:[S?(0,y.jsx)("p",{children:(0,y.jsx)("input",{className:"name-input",value:f,onChange:function(n){var r,o=null===n||void 0===n||null===(r=n.target)||void 0===r?void 0:r.value;""===o.trim()&&(o="Qryn ".concat(x));var i=(0,u.Z)((0,u.Z)({},e),{},{name:b().sanitize(o)});t(n,i)},onKeyDown:function(n){"Enter"===n.key&&(console.log("do validate"),E((function(){return!1})))}})}):(0,y.jsxs)("div",{onClick:function(n){Z||E((function(n){return!n}))},className:"avatar",children:[(0,y.jsx)(p.ZP,{name:f,size:"30px",round:"3px"})," ",(0,y.jsx)("span",{children:f})]}),(0,y.jsxs)("div",{className:"user-role",children:["Role:"," ",Z?(0,y.jsx)("p",{children:"Super Admin"}):(0,y.jsxs)("select",{onChange:function(n){var r,o=null===n||void 0===n||null===(r=n.target)||void 0===r?void 0:r.value,i=(0,u.Z)((0,u.Z)({},e),{},{role:o});t(n,i)},defaultValue:x,children:[(0,y.jsx)("option",{value:"user",children:"User"}),(0,y.jsx)("option",{value:"admin",children:"Admin"}),(0,y.jsx)("option",{value:"guest",children:"Guest"})]})]}),(0,y.jsxs)("p",{children:["Active"," ",!Z&&(0,y.jsx)(m.Z,{checked:g,size:"small",inputProps:{"aria-label":"controlled"},onChange:function(n){var r,o=null===n||void 0===n||null===(r=n.target)||void 0===r?void 0:r.checked,i=(0,u.Z)((0,u.Z)({},e),{},{active:o});t(n,i)}})]}),(0,y.jsxs)("div",{onClick:function(n){return s(n,e)},className:(0,l.cx)(U(w,e.selected)),children:["Current User"," "]}),(0,y.jsxs)("div",{className:"action-buttons",children:[(0,y.jsx)("button",{title:"generate cookie from user",onClick:function(n){return i(n,e)},children:(0,y.jsx)(v.Z,{className:"cookie-icon"})}),(0,y.jsx)("button",{title:"add user",onClick:r,children:"+"}),!Z&&(0,y.jsx)("button",{title:"remove user",onClick:function(n){return o(n,h)},children:"-"})]})]})},z=function(){var n=(0,g.I0)(),e=(0,g.v9)((function(n){return n.currentUser})),r=(0,a.useMemo)((function(){return k()}),[]),t=(0,a.useState)((null===r||void 0===r?void 0:r.length)>0?r:[{id:(0,f.x0)(),name:"Qryn Admin",role:"superAdmin",active:!0,selected:!0}]),o=(0,c.Z)(t,2),s=o[0],l=o[1],d=(0,x.Z)(["user-cookie"]),p=(0,c.Z)(d,2),v=p[0],m=p[1];console.log(v);var Z=function(n){l((function(n){var e=[].concat((0,i.Z)(n),[{id:(0,f.x0)(),name:"Qryn User",role:"user",active:!0,selected:!1}]);return j(e),e}))},b=function(e,r){l((function(n){var e=(0,i.Z)(n),t=null===e||void 0===e?void 0:e.map((function(n){return n.id===r.id?(0,u.Z)((0,u.Z)({},r),{},{selected:!0}):(0,u.Z)((0,u.Z)({},n),{},{selected:!1})}));return j(t),t})),n((0,h.l)((0,u.Z)((0,u.Z)({},r),{},{selected:!0})))},C=function(n,e){var r,t=null===(r=(0,i.Z)(s))||void 0===r?void 0:r.filter((function(n){return n.id!==e}));l((function(){return j(t),t}))},w=function(r,t){var o=(0,i.Z)(s),u=null===o||void 0===o?void 0:o.map((function(n){return n.id===t.id?t:n}));t.id===e.id&&n((0,h.l)(t)),l((function(){return u})),j(u)},S=function(n,e){try{m("user-cookie",btoa(JSON.stringify(e)))}catch(n){console.log(n,"Error on setting user cookie")}};return(0,y.jsx)(y.Fragment,{children:(null===s||void 0===s?void 0:s.length)>0&&s.map((function(n,e){return(0,y.jsx)(E,{user:n,onUserAdd:Z,onUserChange:w,onUserRemove:C,onUserCookie:S,onUserSelect:b},e)}))})};e.default=function(){var n=(0,d.F)();return(0,y.jsx)("div",{className:(0,l.cx)(S(n)),children:(0,y.jsx)("div",{className:"cont",children:(0,y.jsx)(z,{})})})}},42520:function(n,e,r){"use strict";r.d(e,{l:function(){return t}});var t=function(n){return function(e){return e({type:"SET_CURRENT_USER",currentUser:n})}}},17498:function(n,e,r){"use strict";var t=r(64836);e.Z=void 0;var o=t(r(45045)),i=r(46417),u=(0,o.default)((0,i.jsx)("path",{d:"M21.95 10.99c-1.79-.03-3.7-1.95-2.68-4.22-2.98 1-5.77-1.59-5.19-4.56C6.95.71 2 6.58 2 12c0 5.52 4.48 10 10 10 5.89 0 10.54-5.08 9.95-11.01zM8.5 15c-.83 0-1.5-.67-1.5-1.5S7.67 12 8.5 12s1.5.67 1.5 1.5S9.33 15 8.5 15zm2-5C9.67 10 9 9.33 9 8.5S9.67 7 10.5 7s1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"Cookie");e.Z=u},45045:function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=r(28308)},47228:function(n,e,r){"use strict";r.d(e,{Z:function(){return t}});var t=function(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function t(){for(var t=this,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];clearTimeout(e),e=setTimeout((function(){n.apply(t,i)}),r)}return t.clear=function(){clearTimeout(e)},t}},28308:function(n,e,r){"use strict";r.r(e),r.d(e,{capitalize:function(){return o.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return u.Z},debounce:function(){return c.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l},ownerDocument:function(){return d.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return p},setRef:function(){return v},unstable_ClassNameGenerator:function(){return C},unstable_useEnhancedEffect:function(){return x.Z},unstable_useId:function(){return m.Z},unsupportedProp:function(){return g},useControlled:function(){return h.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return y.Z}});var t=r(41271),o=r(91615),i=r(84246).Z,u=r(81171),c=r(47228);var s=function(n,e){return function(){return null}},a=r(47313);var l=function(n,e){return a.isValidElement(n)&&-1!==e.indexOf(n.type.muiName)},d=r(6106),f=r(23533);r(87462);var p=function(n,e){return function(){return null}},v=r(89265).Z,x=r(24993),m=r(17677);var g=function(n,e,r,t,o){return null},h=r(53800),Z=r(73236),b=r(86983),y=r(47037),C={configure:function(n){t.Z.configure(n)}}},6106:function(n,e,r){"use strict";var t=r(49081);e.Z=t.Z},23533:function(n,e,r){"use strict";var t=r(93282);e.Z=t.Z},24993:function(n,e,r){"use strict";var t=r(2678);e.Z=t.Z},17677:function(n,e,r){"use strict";var t=r(33362);e.Z=t.Z},84246:function(n,e,r){"use strict";function t(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce((function(n,e){return null==e?n:function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];n.apply(this,t),e.apply(this,t)}}),(function(){}))}r.d(e,{Z:function(){return t}})},49081:function(n,e,r){"use strict";function t(n){return n&&n.ownerDocument||document}r.d(e,{Z:function(){return t}})},93282:function(n,e,r){"use strict";r.d(e,{Z:function(){return o}});var t=r(49081);function o(n){return(0,t.Z)(n).defaultView||window}},33362:function(n,e,r){"use strict";var t;r.d(e,{Z:function(){return s}});var o=r(29439),i=r(47313),u=0;var c=(t||(t=r.t(i,2))).useId;function s(n){if(void 0!==c){var e=c();return null!=n?n:e}return function(n){var e=i.useState(n),r=(0,o.Z)(e,2),t=r[0],c=r[1],s=n||t;return i.useEffect((function(){null==t&&c("mui-".concat(u+=1))}),[t]),s}(n)}},46271:function(n,e,r){"use strict";r.d(e,{Z:function(){return i}});var t=r(47313),o=r(87416);function i(n){var e=(0,t.useContext)(o.ZP);if(!e)throw new Error("Missing <CookiesProvider>");var r=e.getAll(),i=(0,t.useState)(r),u=i[0],c=i[1],s=(0,t.useRef)(u);return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&(0,t.useLayoutEffect)((function(){function r(){var r=e.getAll();(function(n,e,r){if(!n)return!0;for(var t=0,o=n;t<o.length;t++){var i=o[t];if(e[i]!==r[i])return!0}return!1})(n||null,r,s.current)&&c(r),s.current=r}return e.addChangeListener(r),function(){e.removeChangeListener(r)}}),[e]),[u,(0,t.useMemo)((function(){return e.set.bind(e)}),[e]),(0,t.useMemo)((function(){return e.remove.bind(e)}),[e])]}},64836:function(n){n.exports=function(n){return n&&n.__esModule?n:{default:n}},n.exports.__esModule=!0,n.exports.default=n.exports}}]);